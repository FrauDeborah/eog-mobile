<ion-header>
	<ion-navbar>

		<ion-title *ngIf="!isSearchFieldVisible()" end>
			Easyah
		</ion-title>

		<ion-item *ngIf="isSearchFieldVisible()" end>
			<ion-searchbar (input)="executeQuery($event)"></ion-searchbar>
			<ion-list>
				<ion-item *ngFor="let promise of getPromiseResults()" (click)="onPromiseResultTap(item)">
					<ion-icon [ngStyle]="{'color':getAlreadyRequestedIconColor(promise)}" name="megaphone"> </ion-icon>
					<ion-icon [ngStyle]="{'color':getSufficientPointsIconColor(promise)}" name="pricetag"></ion-icon>
					<ion-icon *ngIf="hasPrmBeenPreviouslyRequested(promise)" [ngStyle]="{'color':getSufficientTimeIconColor(promise)}" name="clock"></ion-icon>
					<ion-icon *ngIf="areRecommendationsRequired(promise)" [ngStyle]="{'color':getNecessaryRecommendationsIconColor(promise)}" name="people"></ion-icon>
					{{ promise.title }}
				</ion-item>
				<ion-item *ngFor="let item of getUserResults()" (click)="onUserResultTap(item)">
					{{ item.realname }}
				</ion-item>
			</ion-list>
		</ion-item>

		<ion-buttons end>
			<button ion-button icon-only (click)="onSearchBtnTap($event)">
				<ion-icon name="search"></ion-icon>
			</button>
		</ion-buttons>

	</ion-navbar>
</ion-header>

<ion-content padding>
	<ion-grid>
		<ion-row>
			<ion-col>
			</ion-col>
			<ion-col col-6>
				<button ion-button (click)="onSearchForUsersBtnTap($event)">Search Users</button>
				<button ion-button (click)="onSearchForPromisesBtnTap($event)">Search Promises</button>
				<ion-row>
					<profile-header [user]="getUser()" [readOnly]="false"></profile-header>
				</ion-row>
				<ion-row>
					<h2>Incoming Requests</h2>
					<hr/>
				</ion-row>
				<ion-row>
					<requests-incoming-view></requests-incoming-view>
				</ion-row>
				<ion-row>
					<h2>Outgoing Requests</h2>
					<hr/>
				</ion-row>
				<ion-row>
					<requests-outgoing-view></requests-outgoing-view>
				</ion-row>

				<ion-row>
					<button class="wideButton" ion-button (click)="onProfileBtnTap($event)">Profile</button>
				</ion-row>
			</ion-col>
			<ion-col>
			</ion-col>
		</ion-row>
	</ion-grid>
</ion-content>
