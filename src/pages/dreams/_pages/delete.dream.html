<ion-header>
	<ion-navbar>
		<ion-title>
			Delete a Dream - {{dream.title}}
		</ion-title>
	</ion-navbar>
</ion-header>

<ion-content padding>
	<ion-row *ngIf="!isDreamAttachedToARequestNotInProgress() && !isDreamAttachedToAnInProgressRequest()">
		<ion-label>Are you sure you want to delete this dream?</ion-label>
	</ion-row>

	<ion-row *ngIf="isDreamAttachedToARequestNotInProgress() || isDreamAttachedToAnInProgressRequest()">
		<ion-label>You have made requests linked to this dream.</ion-label>
	</ion-row>
	<ion-row *ngIf="isDreamAttachedToARequestNotInProgress()">
		<ion-card>
			<ion-card-header>
				These requests have not yet been accepted. If you delete this dream, they will be cancelled.
			</ion-card-header>
			<ion-card-content>
				<ion-item *ngFor="let item of getDreamRequestsNotInProgress()">
					User: {{item.directionallyOppositeUser.realname}} Thing: {{item.thing.title}}
				</ion-item>
			</ion-card-content>
		</ion-card>
	</ion-row>		
	<ion-row *ngIf="isDreamAttachedToAnInProgressRequest()">
		<ion-card>
			<ion-card-header>
				These requests are in progress.<br/>You will need to resolve these before deleting this Dream.
			</ion-card-header>
			<ion-card-content>
				<ion-item *ngFor="let item of getDreamRequestsInProgress()">
					User: {{item.directionallyOppositeUser.realname}} Thing: {{item.thing.title}}
				</ion-item>
			</ion-card-content>
		</ion-card>
	</ion-row>

	<ion-row>
		<button ion-button (click)="onCancelBtnTap($event)">Sorry, no.. Cancel</button>
		<button ion-button color="danger" [disabled]="!isDeleteBtnEnabled()" (click)="onDeleteBtnTap($event)">DELETE!</button>
	</ion-row>

</ion-content>